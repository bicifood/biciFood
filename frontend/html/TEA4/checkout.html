<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiciFood</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <script src="/frontend/js/i18n.js"></script>
</head>

<body>

    <!-- HEADER -->
    <header class="header bg-brown shadow-sm sticky-top">
        <div id="navbar"></div>

        <script>
            fetch("components/navbar.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("navbar").innerHTML = data;

                    // Aplicar traduccions al carregar la navbar
                    if (window.i18n) i18n.applyTranslations();

                    // Reactivar el selector d'idioma
                    const langSelector = document.getElementById('lang-selector');
                    if (langSelector) {
                        langSelector.value = i18n.getLanguage();
                        langSelector.addEventListener('change', (e) => {
                            i18n.setLanguage(e.target.value);
                        });
                    }
                });
        </script>
    </header>

    <!-- SCRIPT SELECCIÓ DE FORMULARIS -->
    <script>
        function seleccionarForm() {
            // Amagar tots els formularis
            document.getElementById('form__tarjeta').classList.add('form__ocult');
            document.getElementById('form__bizum').classList.add('form__ocult');
            document.getElementById('form__contrareemborsament').classList.add('form__ocult');

            // Mostrar formulari seleccionat
            if (document.getElementById('selector__form_1').checked) {
                document.getElementById('form__tarjeta').classList.remove('form__ocult');
            } else if (document.getElementById('selector__form_2').checked) {
                document.getElementById('form__bizum').classList.remove('form__ocult');
            } else if (document.getElementById('selector__form_3').checked) {
                document.getElementById('form__contrareemborsament').classList.remove('form__ocult');
            }
        }

        // Inicialitzar al carregar la pàgina
        window.addEventListener("DOMContentLoaded", () => {
            document.getElementById('selector__form_1').checked = true;
            seleccionarForm();
        });
    </script>

    <!-- CONTINGUT CENTRAL -->
    <main class="container my-5">
        <section>
            <div class="container-xxl d-flex flex-column align-items-center my-5">
                <h2 class="mb-4">Checkout</h2>

                <!-- SELECTORS -->
                <div class="mb-3">
                    <input type="radio" id="selector__form_1" name="selector_form" checked onclick="seleccionarForm()">
                    <label for="selector__form_1">Tarjeta</label>

                    <input type="radio" id="selector__form_2" name="selector_form" onclick="seleccionarForm()">
                    <label for="selector__form_2">Bizum</label>

                    <input type="radio" id="selector__form_3" name="selector_form" onclick="seleccionarForm()">
                    <label for="selector__form_3">Contrareemborsament</label>
                </div>

                <!-- FORMULARI TARJETA -->
                <div id="form__tarjeta" class="formulari form__ocult">
                    <form action="pagament.html" class="form-box p-4 flex-column flex-wrap" autocomplete="off">
                        <fieldset class="d-flex flex-column text-center">
                            <legend class="mb-4">Pagament amb tarjeta</legend>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Nom del titular:</label>
                                <input type="text" class="form-control w-75" placeholder="Nom titular"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Número de tarjeta:</label>
                                <input type="text" class="form-control w-75" placeholder="XXXX-XXXX-XXXX-XXXX"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Data de caducitat:</label>
                                <input type="text" class="form-control w-75" placeholder="MM/AA"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">CVV:</label>
                                <input type="text" class="form-control w-75" placeholder="XXX"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Direcció de lliurament:</label>
                                <input type="text" class="form-control w-75" placeholder="Direcció de lliurament"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Codi postal:</label>
                                <input type="text" class="form-control w-75" placeholder="00000"
                                    required>
                            </div>

                            <div class="d-flex justify-content-center">
                                <button type="submit" class="btn btn-primary mt-3">Pagar</button>
                            </div>
                        </fieldset>
                    </form>
                </div>

                <!-- FORM BIZUM -->
                <div id="form__bizum" class="formulari form__ocult">
                    <form action="pagament.html" class="form-box p-4 flex-column flex-wrap" autocomplete="off">
                        <fieldset class="d-flex flex-column text-center">
                            <legend class="mb-4">Pagament amb Bizum</legend>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Número de telèfon:</label>
                                <input type="text" class="form-control w-75" placeholder="XXXX XXX XXX"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Direcció de lliurament:</label>
                                <input type="text" class="form-control w-75" placeholder="Direcció de lliurament"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Codi postal:</label>
                                <input type="text" class="form-control w-75" placeholder="00000"
                                    required>
                            </div>

                            <div class="d-flex justify-content-center mt-3">
                                <button type="submit" class="btn btn-primary">Pagar</button>
                            </div>
                        </fieldset>
                    </form>
                </div>

                <!-- FORM CONTRAREEMBORSAMENT -->
                <div id="form__contrareemborsament" class="formulari form__ocult">
                    <form action="pagament.html" class="form-box p-4 flex-column flex-wrap" autocomplete="off">
                        <fieldset class="d-flex flex-column text-center">
                            <legend class="mb-4">Pagament amb contrareemborsament</legend>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Direcció de lliurament:</label>
                                <input type="text" class="form-control w-75" placeholder="Direcció de lliurament"
                                    required>
                            </div>

                            <div class="form-group d-flex align-items-center mb-3">
                                <label class="form-label me-3 w-50 text-end">Codi postal:</label>
                                <input type="text" class="form-control w-75" placeholder="00000"
                                    required>
                            </div>

                            <p>Pagament en efectiu al lliurar el producte.</p>

                            <button type="submit" class="btn btn-primary mt-3 d-block mx-auto">Pagar</button>
                        </fieldset>
                    </form>
                </div>

            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer bg-lightbrown text-dark py-3 mt-auto">
        <div class="container d-flex justify-content-between align-items-center flex-wrap">
            <div class="d-flex align-items-center">
                <strong>BiciFood</strong>
            </div>
            <div class="footer-text">
                <span>&copy; 2025 BiciFood. Tots els drets reservats.</span>
            </div>
            <div>
                <a href="politica.html" class="text-decoration-none text-dark">Política de privadesa</a>
                <a href="contacte.html" class="text-decoration-none text-dark ms-3">Contacte</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
